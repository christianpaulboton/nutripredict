{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutripredict</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="all_header">
        <nav> 
            <ul class='nav-bar'>
                <li class='logo'><a href='#'><img src="{% static 'images/logo_white.png' %}" alt="Logo" class="logo"></a>
                <h2>NUTRIPREDICT</h2>
                </li>
                <input type='checkbox' id='check' />
                <span class="menu">
                    <li><a class="active" href="{% url 'home' %}"><i class="fa-solid fa-home"></i> HOME</a></li>
                    <li><a href="{% url 'dashboard' %}"><i class="fa-solid fa-table-columns"></i> Dashboard</a></li>
                    <li><a href="{% url 'predict_view' %}"><i class="fa-solid fa-chart-simple"></i> Prediction</a></li>
                    <li><a href="{% url 'about' %}"><i class="fa-solid fa-circle-info"></i> About</a></li>
                    <li><a href="{% url 'our_team' %}"><i class="fa-solid fa-people-group"></i> Our Team</a></li>
                    <li><a href="{% url 'contact_us' %}"><i class="fa-solid fa-address-book"></i> Contact Us</a></li>
                    <li><a href="#" id="logout-link"><i class="fa-solid fa-right-to-bracket"></i>  Log Out</a></li>
                    <label for="check" class="close-menu"><i class="fas fa-times"></i></label>
                </span>
                <label for="check" class="open-menu"><i class="fas fa-bars"></i></label>
            </ul>
        </nav>
    </header>
    <div class="home_design">
      <div class="home_name">
        <div class="nutripredict">
          <h1 data-text="Nutripredict">Nutripredict</h1>
        </div>
        <div class="slogan">
          <h2>Predicting Children's Nutritional Status</h2>
        </div>
      </div>
      
      <!-- Brief Description Section -->
      <section class="brief_description">
        <div class="youtube_container">
          <iframe width="100%" height="315vw"  src="https://www.youtube.com/embed/ig-XQAG7gkc" title="NUTRIPREDICT" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>        
        <div class="container">
          <p>Welcome to Nutripredict, a simple web app designed to predict children's future nutritional status based on their current health data. Our goal is to help parents and nutritionist make informed decisions to promote the well-being of their children.</p>
          <a href="{% url 'predict_view' %}" class="btn"><i class="fa-solid fa-weight-scale"> </i> Start Predicting Now</a>
        </div>
      </section>
    </div>
    
 <!-- FOOTER DESIGN -->
 <footer>
    <div class="footer_bottom">
        <p class="copyright">&copy; 2024 Nutripredict</p>
    </div>
</footer>
</body>
</html>

<script>
  //LOG OUT CODE
  document.getElementById('logout-link').addEventListener('click', function(event) {
      event.preventDefault();
      var confirmed = confirm('Are you sure you want to log out?');
      if (confirmed) {
          fetch('/logout/', {
              method: 'POST',
              headers: {
                  'X-CSRFToken': getCookie('csrftoken')
              },
          })
          .then(response => {
              if (response.ok) {
                  window.location.href = '/login/';
              } else {
                  console.error('Logout failed:', response.statusText);
              }
          })
          .catch(error => {
              console.error('Network error occurred:', error);
          });
      }
  });
  function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
          const cookies = document.cookie.split(';');
          for (let i = 0; i < cookies.length; i++) {
              const cookie = cookies[i].trim();
              if (cookie.substring(0, name.length + 1) === (name + '=')) {
                  cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                  break;
              }
          }
      }
      return cookieValue;
  }
  </script>